#!/bin/bash
# run the compiled compiler (self.gsh) using Grash
# performs a self compile
# input is self.graphml
# output is result.gsh
# compare self.gsh and result.gsh - they should be the same

# self.gsh is generated by run-bootstrap
# we should be able to run self.gsh using grash and get the same output in result.gsh as self.gsh

# grash tries to write a .gsh file based on the filename in the 1st comment line
# copy/mv self.gsh out of the way
if [ -e self.gsh ]
then
	mv self.gsh self-self.gsh
fi

export PATH=~/bin:$PATH

grash self-self.gsh self.graphml
#
